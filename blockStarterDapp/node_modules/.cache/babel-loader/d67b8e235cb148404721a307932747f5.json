{"ast":null,"code":"var _jsxFileName = \"/home/moose970/Documents/workspace/Classes/CS458Blockchain/BlockStarter/blockStarterDapp/src/pages/CampaignInventory.js\";\nimport React, { Component } from \"react\";\nimport { Card, Grid, Input, Segment, Pagination } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport campaignCard from \"../components/campaignCard\";\n\nfunction mapStateToProps(state) {\n  return {\n    CZ: state.CZ,\n    totalcampaignCount: state.totalcampaignCount,\n    userAddress: state.userAddress\n  };\n}\n\nclass campaignInventory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      campaignTable: [],\n      activePage: 1,\n      totalPages: Math.ceil(this.props.totalcampaignCount / 9)\n    };\n\n    this.componentDidMount = async () => {\n      await this.makecampaignCards();\n    };\n\n    this.onChange = async (e, pageInfo) => {\n      await this.setState({\n        activePage: pageInfo.activePage\n      });\n      this.makecampaignCards();\n    };\n\n    this.handleInputChange = async (e, {\n      value\n    }) => {\n      await this.setState({\n        activePage: value\n      });\n      this.makecampaignCards();\n    };\n\n    this.makecampaignCards = async () => {\n      let zList = [];\n      let zOwner = [];\n      await this.setState({\n        campaignTable: []\n      }); // clear screen while waiting for data\n\n      for (let i = this.state.activePage * 9 - 9; i < this.state.activePage * 9; i++) {\n        try {\n          let metaData = await this.props.CZ.campaigns(i);\n          zList.push(metaData);\n          let myOwner = await this.props.CZ.campaignToOwner(i);\n          zOwner.push(myOwner);\n        } catch (err) {\n          break;\n        }\n      } // create a set of campaign cards in the state table\n\n\n      let campaignTable = [];\n\n      for (let i = 0; i < zList.length; i++) {\n        let myDate = new Date(zList[i].readyTime * 1000).toLocaleString();\n        campaignTable.push(React.createElement(\"campaignCard\", {\n          key: i,\n          campaignId: this.state.activePage * 9 - 9 + i,\n          campaignName: zList[i].name,\n          campaignDNA: zList[i].dna.toString(),\n          campaignLevel: zList[i].level,\n          campaignReadyTime: myDate,\n          campaignWinCount: zList[i].winCount,\n          campaignLossCount: zList[i].lossCount,\n          campaignOwner: zOwner[i],\n          myOwner: this.props.userAddress === zOwner[i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }));\n      }\n\n      this.setState({\n        campaignTable\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \" Complete campaign Inventory \"), \"The campaigns you own have a yellow background; clicking anywhere on a yellow card will bring up a list of actions you can perform.\", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      columns: 2,\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      secondary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"activePage: \", this.state.activePage), React.createElement(Input, {\n      min: 1,\n      max: this.state.totalPages,\n      onChange: this.handleInputChange,\n      type: \"range\",\n      value: this.state.activePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      activePage: this.state.activePage,\n      onPageChange: this.onChange,\n      totalPages: this.state.totalPages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Card.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.campaignTable)));\n  }\n\n}\n\nexport default connect(mapStateToProps)(campaignInventory);","map":{"version":3,"sources":["/home/moose970/Documents/workspace/Classes/CS458Blockchain/BlockStarter/blockStarterDapp/src/pages/CampaignInventory.js"],"names":["React","Component","Card","Grid","Input","Segment","Pagination","connect","campaignCard","mapStateToProps","state","CZ","totalcampaignCount","userAddress","campaignInventory","campaignTable","activePage","totalPages","Math","ceil","props","componentDidMount","makecampaignCards","onChange","e","pageInfo","setState","handleInputChange","value","zList","zOwner","i","metaData","campaigns","push","myOwner","campaignToOwner","err","length","myDate","Date","readyTime","toLocaleString","name","dna","toString","level","winCount","lossCount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,IADF,EAEEC,IAFF,EAGEC,KAHF,EAIEC,OAJF,EAKEC,UALF,QAMO,mBANP;AAOA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLC,IAAAA,EAAE,EAAED,KAAK,CAACC,EADL;AAELC,IAAAA,kBAAkB,EAAEF,KAAK,CAACE,kBAFrB;AAGLC,IAAAA,WAAW,EAAEH,KAAK,CAACG;AAHd,GAAP;AAKD;;AAED,MAAMC,iBAAN,SAAgCb,SAAhC,CAA0C;AAAA;AAAA;AAAA,SACxCS,KADwC,GAChC;AACNK,MAAAA,aAAa,EAAE,EADT;AAENC,MAAAA,UAAU,EAAE,CAFN;AAGNC,MAAAA,UAAU,EAAEC,IAAI,CAACC,IAAL,CAAU,KAAKC,KAAL,CAAWR,kBAAX,GAAgC,CAA1C;AAHN,KADgC;;AAAA,SAOxCS,iBAPwC,GAOpB,YAAY;AAC9B,YAAM,KAAKC,iBAAL,EAAN;AACD,KATuC;;AAAA,SAWxCC,QAXwC,GAW7B,OAAOC,CAAP,EAAUC,QAAV,KAAuB;AAChC,YAAM,KAAKC,QAAL,CAAc;AAAEV,QAAAA,UAAU,EAAES,QAAQ,CAACT;AAAvB,OAAd,CAAN;AACA,WAAKM,iBAAL;AACD,KAduC;;AAAA,SAgBxCK,iBAhBwC,GAgBpB,OAAOH,CAAP,EAAU;AAAEI,MAAAA;AAAF,KAAV,KAAwB;AACxC,YAAM,KAAKF,QAAL,CAAc;AAAEV,QAAAA,UAAU,EAAEY;AAAd,OAAd,CAAN;AACA,WAAKN,iBAAL;AACH,KAnBuC;;AAAA,SAqBxCA,iBArBwC,GAqBpB,YAAY;AAC9B,UAAIO,KAAK,GAAG,EAAZ;AACA,UAAIC,MAAM,GAAG,EAAb;AACA,YAAM,KAAKJ,QAAL,CAAc;AAAEX,QAAAA,aAAa,EAAE;AAAjB,OAAd,CAAN,CAH8B,CAGc;;AAC5C,WACE,IAAIgB,CAAC,GAAG,KAAKrB,KAAL,CAAWM,UAAX,GAAwB,CAAxB,GAA4B,CADtC,EAEEe,CAAC,GAAG,KAAKrB,KAAL,CAAWM,UAAX,GAAwB,CAF9B,EAGEe,CAAC,EAHH,EAIE;AACA,YAAI;AACF,cAAIC,QAAQ,GAAG,MAAM,KAAKZ,KAAL,CAAWT,EAAX,CAAcsB,SAAd,CAAwBF,CAAxB,CAArB;AACAF,UAAAA,KAAK,CAACK,IAAN,CAAWF,QAAX;AACA,cAAIG,OAAO,GAAG,MAAM,KAAKf,KAAL,CAAWT,EAAX,CAAcyB,eAAd,CAA8BL,CAA9B,CAApB;AACAD,UAAAA,MAAM,CAACI,IAAP,CAAYC,OAAZ;AACD,SALD,CAKE,OAAOE,GAAP,EAAY;AACZ;AACD;AACF,OAjB6B,CAmB9B;;;AACA,UAAItB,aAAa,GAAG,EAApB;;AACA,WAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACS,MAA1B,EAAkCP,CAAC,EAAnC,EAAuC;AACrC,YAAIQ,MAAM,GAAG,IAAIC,IAAJ,CAASX,KAAK,CAACE,CAAD,CAAL,CAASU,SAAT,GAAqB,IAA9B,EAAoCC,cAApC,EAAb;AACA3B,QAAAA,aAAa,CAACmB,IAAd,CACE;AACE,UAAA,GAAG,EAAEH,CADP;AAEE,UAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWM,UAAX,GAAwB,CAAxB,GAA4B,CAA5B,GAAgCe,CAF9C;AAGE,UAAA,YAAY,EAAEF,KAAK,CAACE,CAAD,CAAL,CAASY,IAHzB;AAIE,UAAA,WAAW,EAAEd,KAAK,CAACE,CAAD,CAAL,CAASa,GAAT,CAAaC,QAAb,EAJf;AAKE,UAAA,aAAa,EAAEhB,KAAK,CAACE,CAAD,CAAL,CAASe,KAL1B;AAME,UAAA,iBAAiB,EAAEP,MANrB;AAOE,UAAA,gBAAgB,EAAEV,KAAK,CAACE,CAAD,CAAL,CAASgB,QAP7B;AAQE,UAAA,iBAAiB,EAAElB,KAAK,CAACE,CAAD,CAAL,CAASiB,SAR9B;AASE,UAAA,aAAa,EAAElB,MAAM,CAACC,CAAD,CATvB;AAUE,UAAA,OAAO,EAAE,KAAKX,KAAL,CAAWP,WAAX,KAA2BiB,MAAM,CAACC,CAAD,CAV5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;AACD,WAAKL,QAAL,CAAc;AAAEX,QAAAA;AAAF,OAAd;AACD,KA5DuC;AAAA;;AA8DxCkC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAFF,yIAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,CAAf;AAAkB,MAAA,aAAa,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,SAAS,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAkB,KAAKvC,KAAL,CAAWM,UAA7B,CADF,EAEE,oBAAC,KAAD;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,GAAG,EAAE,KAAKN,KAAL,CAAWO,UAFlB;AAGE,MAAA,QAAQ,EAAE,KAAKU,iBAHjB;AAIE,MAAA,IAAI,EAAC,OAJP;AAKE,MAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWM,UALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF,EAaE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AACE,MAAA,UAAU,EAAE,KAAKN,KAAL,CAAWM,UADzB;AAEE,MAAA,YAAY,EAAE,KAAKO,QAFrB;AAGE,MAAA,UAAU,EAAE,KAAKb,KAAL,CAAWO,UAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAbF,CANF,EA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BF,OA2BS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BT,EA4BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAa,KAAKP,KAAL,CAAWK,aAAxB,CADF,CA5BF,CADF;AAkCD;;AAjGuC;;AAoG1C,eAAeR,OAAO,CAACE,eAAD,CAAP,CAAyBK,iBAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  Grid,\n  Input,\n  Segment,\n  Pagination,\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\n\nimport campaignCard from \"../components/campaignCard\";\n\nfunction mapStateToProps(state) {\n  return {\n    CZ: state.CZ,\n    totalcampaignCount: state.totalcampaignCount,\n    userAddress: state.userAddress\n  };\n}\n\nclass campaignInventory extends Component {\n  state = {\n    campaignTable: [],\n    activePage: 1,\n    totalPages: Math.ceil(this.props.totalcampaignCount / 9)\n  };\n\n  componentDidMount = async () => {\n    await this.makecampaignCards();\n  };\n\n  onChange = async (e, pageInfo) => {\n    await this.setState({ activePage: pageInfo.activePage });\n    this.makecampaignCards();\n  };\n\n  handleInputChange = async (e, { value }) => {\n      await this.setState({ activePage: value });\n      this.makecampaignCards();\n  }\n\n  makecampaignCards = async () => {\n    let zList = [];\n    let zOwner = [];\n    await this.setState({ campaignTable: [] }); // clear screen while waiting for data\n    for (\n      let i = this.state.activePage * 9 - 9;\n      i < this.state.activePage * 9;\n      i++\n    ) {\n      try {\n        let metaData = await this.props.CZ.campaigns(i);\n        zList.push(metaData);\n        let myOwner = await this.props.CZ.campaignToOwner(i);\n        zOwner.push(myOwner);\n      } catch (err) {\n        break;\n      }\n    }\n\n    // create a set of campaign cards in the state table\n    let campaignTable = [];\n    for (let i = 0; i < zList.length; i++) {\n      let myDate = new Date(zList[i].readyTime * 1000).toLocaleString();\n      campaignTable.push(\n        <campaignCard\n          key={i}\n          campaignId={this.state.activePage * 9 - 9 + i}\n          campaignName={zList[i].name}\n          campaignDNA={zList[i].dna.toString()}\n          campaignLevel={zList[i].level}\n          campaignReadyTime={myDate}\n          campaignWinCount={zList[i].winCount}\n          campaignLossCount={zList[i].lossCount}\n          campaignOwner={zOwner[i]}\n          myOwner={this.props.userAddress === zOwner[i]}\n        />\n      );\n    }\n    this.setState({ campaignTable });\n  };\n\n  render() {\n    return (\n      <div>\n        <hr />\n        <h2> Complete campaign Inventory </h2>\n        The campaigns you own have a yellow background; clicking anywhere on a\n        yellow card will bring up a list of actions you can perform.\n        <hr />\n        <Grid columns={2} verticalAlign=\"middle\">\n          <Grid.Column>\n            <Segment secondary>\n              <div>activePage: {this.state.activePage}</div>\n              <Input\n                min={1}\n                max={this.state.totalPages}\n                onChange={this.handleInputChange}\n                type=\"range\"\n                value={this.state.activePage}\n              />\n            </Segment>\n          </Grid.Column>\n          <Grid.Column>\n            <Pagination\n              activePage={this.state.activePage}\n              onPageChange={this.onChange}\n              totalPages={this.state.totalPages}\n            />\n          </Grid.Column>\n        </Grid>\n        <br /> <br />\n        <div>\n          <Card.Group>{this.state.campaignTable}</Card.Group>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(campaignInventory);\n"]},"metadata":{},"sourceType":"module"}